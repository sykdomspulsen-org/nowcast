[{"path":"https://docs.sykdomspulsen.no/nowcast/articles/aggregation_and_delays.html","id":"individual-level-daily-mortality-reporting","dir":"Articles","previous_headings":"","what":"Individual level daily mortality reporting","title":"Data aggregation and reporting delays","text":"raw data typically DOE (date event/death), DOR (date registration). Sometimes also contains additional information location age.","code":"data_fake_nowcasting_raw #>               doe        dor location_code #>     1: 2018-01-01 2018-01-10         norge #>     2: 2018-01-01 2018-01-07         norge #>     3: 2018-01-01 2018-01-05         norge #>     4: 2018-01-01 2018-01-07         norge #>     5: 2018-01-01 2018-01-05         norge #>    ---                                     #> 83949: 2020-01-01 2020-01-08         norge #> 83950: 2020-01-01 2020-01-06         norge #> 83951: 2020-01-01 2020-01-15         norge #> 83952: 2020-01-01 2020-01-06         norge #> 83953: 2020-01-01 2020-01-04         norge"},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/aggregation_and_delays.html","id":"weekly-aggregation-by-location","dir":"Articles","previous_headings":"","what":"Weekly aggregation by location","title":"Data aggregation and reporting delays","text":"need specify time point stop counting. usually last latest date available. time unit week. events (deaths) happened natural week necessarily get counted within week. Therefore create data table counts number events: happened week happened registered within week (lag 0) happened registered within next week (lag 1) … number cumulatives. two concepts different: - deaths happened registered within week - deaths registered week (mixture current delayed registrations previous weeks) convenience, count events weekly basis, .e. event happened Sunday counted next Monday, delay week (within next week) used, rather delay day (one day delay). future version, might investigate detail.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/aggregation_and_delays.html","id":"without-weekly-percentile","dir":"Articles","previous_headings":"Weekly aggregation by location","what":"Without weekly percentile","title":"Data aggregation and reporting delays","text":"","code":"weekly_counts <- count_weekly_reporting(   data = data_fake_nowcasting_raw,    aggregation_date = as.Date('2020-01-01'),    max_week_delay = 4) weekly_counts #>      isoyearweek_event location_code monday_doe n_event n_cum_lag0 n_cum_lag1 #>   1:           2018-01         norge 2018-01-01     809        120        697 #>   2:           2018-02         norge 2018-01-08     806        118        707 #>   3:           2018-03         norge 2018-01-15     848        122        709 #>   4:           2018-04         norge 2018-01-22     782        133        662 #>   5:           2018-05         norge 2018-01-29     806        106        695 #>  ---                                                                          #> 100:           2019-48         norge 2019-11-25     789        116        664 #> 101:           2019-49         norge 2019-12-02     778        126        680 #> 102:           2019-50         norge 2019-12-09     846        142        737 #> 103:           2019-51         norge 2019-12-16     677        113        677 #> 104:           2019-52         norge 2019-12-23     135        135        135 #>      n_cum_lag2 n_cum_lag3 n_cum_lag4 #>   1:        809        809        809 #>   2:        806        806        806 #>   3:        844        848        848 #>   4:        782        782        782 #>   5:        805        806        806 #>  ---                                  #> 100:        789        789        789 #> 101:        778        778        778 #> 102:        846        846        846 #> 103:        677        677        677 #> 104:        135        135        135"},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/aggregation_and_delays.html","id":"with-weekly-percentile","dir":"Articles","previous_headings":"Weekly aggregation by location","what":"With weekly percentile","title":"Data aggregation and reporting delays","text":"desired, weekly percentile cumulative registrations can easily computed. used explorative analysis can see much percent events registered completely.","code":"weekly_counts_p <- count_weekly_reporting(   data = data_fake_nowcasting_raw,    aggregation_date = as.Date('2020-01-01'),    max_week_delay = 4,    keep_weekly_prob = T) weekly_counts_p #>      isoyearweek_event location_code monday_doe n_event n_cum_lag0 n_cum_lag1 #>   1:           2018-01         norge 2018-01-01     809        120        697 #>   2:           2018-02         norge 2018-01-08     806        118        707 #>   3:           2018-03         norge 2018-01-15     848        122        709 #>   4:           2018-04         norge 2018-01-22     782        133        662 #>   5:           2018-05         norge 2018-01-29     806        106        695 #>  ---                                                                          #> 100:           2019-48         norge 2019-11-25     789        116        664 #> 101:           2019-49         norge 2019-12-02     778        126        680 #> 102:           2019-50         norge 2019-12-09     846        142        737 #> 103:           2019-51         norge 2019-12-16     677        113        677 #> 104:           2019-52         norge 2019-12-23     135        135        135 #>      n_cum_lag2 n_cum_lag3 n_cum_lag4 p_cum_lag0 p_cum_lag1 p_cum_lag2 #>   1:        809        809        809  0.1483313  0.8615575  1.0000000 #>   2:        806        806        806  0.1464020  0.8771712  1.0000000 #>   3:        844        848        848  0.1438679  0.8360849  0.9952830 #>   4:        782        782        782  0.1700767  0.8465473  1.0000000 #>   5:        805        806        806  0.1315136  0.8622829  0.9987593 #>  ---                                                                   #> 100:        789        789        789  0.1470215  0.8415716  1.0000000 #> 101:        778        778        778  0.1619537  0.8740360  1.0000000 #> 102:        846        846        846  0.1678487  0.8711584  1.0000000 #> 103:        677        677        677  0.1669129  1.0000000  1.0000000 #> 104:        135        135        135  1.0000000  1.0000000  1.0000000 #>      p_cum_lag3 p_cum_lag4 #>   1:          1          1 #>   2:          1          1 #>   3:          1          1 #>   4:          1          1 #>   5:          1          1 #>  ---                       #> 100:          1          1 #> 101:          1          1 #> 102:          1          1 #> 103:          1          1 #> 104:          1          1"},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/aggregation_and_delays.html","id":"old-aggregation-data","dir":"Articles","previous_headings":"","what":"Old aggregation data","title":"Data aggregation and reporting delays","text":"old version weekly aggregation kept reference Another data (nation, simulated) looks like . kept now fit_attrib() requires example.","code":"data_fake_nowcasting_aggregated #>         cut_doe n_death n0_0  p0_0 n0_1        p0_1 n0_2      p0_2 n0_3 #>   1: 2018-01-01    1000    1 0.001   13 0.013000000  255 0.2550000  765 #>   2: 2018-01-08    1065    0 0.000   13 0.012206573  245 0.2300469  816 #>   3: 2018-01-15    1197    0 0.000   15 0.012531328  283 0.2364244  921 #>   4: 2018-01-22    1191    0 0.000   19 0.015952981  281 0.2359362  910 #>   5: 2018-01-29    1272    0 0.000   11 0.008647799  311 0.2444969  968 #>  ---                                                                    #>  99: 2019-11-18     709    0 0.000    8 0.011283498  162 0.2284908  525 #> 100: 2019-11-25     781    0 0.000   12 0.015364917  211 0.2701665  601 #> 101: 2019-12-02     695    0 0.000    9 0.012949640  208 0.2992806   NA #> 102: 2019-12-09     320    0 0.000   11 0.034375000   NA        NA   NA #> 103: 2019-12-16      16    0 0.000   NA          NA   NA        NA   NA #>           p0_3 n0_4      p0_4 n0_5      p0_5 n0_6 p0_6 n0_7 p0_7 n0_8 p0_8 n0_9 #>   1: 0.7650000  977 0.9770000 1000 1.0000000 1000    1 1000    1 1000    1 1000 #>   2: 0.7661972 1037 0.9737089 1065 1.0000000 1065    1 1065    1 1065    1 1065 #>   3: 0.7694236 1170 0.9774436 1197 1.0000000 1197    1 1197    1 1197    1 1197 #>   4: 0.7640638 1161 0.9748111 1190 0.9991604 1191    1 1191    1 1191    1 1191 #>   5: 0.7610063 1246 0.9795597 1270 0.9984277 1272    1 1272    1 1272    1 1272 #>  ---                                                                            #>  99: 0.7404795  686 0.9675599   NA        NA   NA   NA   NA   NA   NA   NA   NA #> 100: 0.7695262   NA        NA   NA        NA   NA   NA   NA   NA   NA   NA   NA #> 101:        NA   NA        NA   NA        NA   NA   NA   NA   NA   NA   NA   NA #> 102:        NA   NA        NA   NA        NA   NA   NA   NA   NA   NA   NA   NA #> 103:        NA   NA        NA   NA        NA   NA   NA   NA   NA   NA   NA   NA #>      p0_9 n0_10 p0_10 n0_11 p0_11 n0_12 p0_12 n0_13 p0_13 n0_14 p0_14 week year #>   1:    1  1000     1  1000     1  1000     1  1000     1  1000     1    1 2018 #>   2:    1  1065     1  1065     1  1065     1  1065     1  1065     1    2 2018 #>   3:    1  1197     1  1197     1  1197     1  1197     1  1197     1    3 2018 #>   4:    1  1191     1  1191     1  1191     1  1191     1  1191     1    4 2018 #>   5:    1  1272     1  1272     1  1272     1  1272     1  1272     1    5 2018 #>  ---                                                                            #>  99:   NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA   47 2019 #> 100:   NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA   48 2019 #> 101:   NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA   49 2019 #> 102:   NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA   50 2019 #> 103:   NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA   51 2019 #>          pop #>   1: 5238654 #>   2: 5238654 #>   3: 5238654 #>   4: 5238654 #>   5: 5238654 #>  ---         #>  99: 5272821 #> 100: 5272821 #> 101: 5272821 #> 102: 5272821 #> 103: 5272821 data_fake_nation #>      week    season year    yrwk    x location_code     pop pr100_ili #>   1:    1 2009/2010 2010 2010-01 24.0         norge 5367580  1.160403 #>   2:    1 2010/2011 2011 2011-01 24.0         norge 5367580  1.164511 #>   3:    1 2011/2012 2012 2012-01 24.0         norge 5367580  1.472767 #>   4:    1 2012/2013 2013 2013-01 24.0         norge 5367580  1.435822 #>   5:    1 2013/2014 2014 2014-01 24.0         norge 5367580  1.402403 #>  ---                                                                  #> 570:   52 2017/2018 2017 2017-52 23.0         norge 5367580  1.270134 #> 571:   52 2018/2019 2018 2018-52 23.0         norge 5367580  1.028794 #> 572:   52 2019/2020 2019 2019-52 23.0         norge 5367580  1.236302 #> 573:   53 2009/2010 2009 2009-53 23.5         norge 5367580  1.100072 #> 574:   53 2015/2016 2015 2015-53 23.5         norge 5367580  1.269054 #>      pr100_ili_lag_1 temperature_high deaths #>   1:       1.1000719                0    891 #>   2:       0.9623231                0    874 #>   3:       1.3356371                0    854 #>   4:       1.2320998                0    885 #>   5:       1.2514772                0    904 #>  ---                                         #> 570:       1.0938242                0    854 #> 571:       0.8534488                0    893 #> 572:       1.0609100                0    829 #> 573:       1.0387242                0    880 #> 574:       1.1645116                0    912"},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/introduction.html","id":"plan","dir":"Articles","previous_headings":"","what":"Plan","title":"Introduction to nowcast","text":"planned content package.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/introduction.html","id":"mortality-reporting-data-simulation","dir":"Articles","previous_headings":"","what":"1. mortality reporting data simulation","title":"Introduction to nowcast","text":"Purpose: generate realistic datasets mortality reporting. possibility share distribute real-life mortality data official registry. However, simulate based knowledge real data. data simulator can used two geographic levels: county level national level allow following specifications basic version: reporting delay pattern pseudo-mortality counts based historical data advanced simulator allow user specify population size mortality rate excess mortality due disease (e.g. influenza) seasonality","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/introduction.html","id":"aggregation","dir":"Articles","previous_headings":"","what":"2. aggregation","title":"Introduction to nowcast","text":"functionality important computing nowcast","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/introduction.html","id":"nowcast-delay-adjustment","dir":"Articles","previous_headings":"","what":"3. nowcast delay adjustment","title":"Introduction to nowcast","text":"Models (Bayesian regression framework) negative binomial negative binomial random effects (county) Assessment methods included.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/introduction.html","id":"baseline-construction","dir":"Articles","previous_headings":"","what":"4. baseline construction","title":"Introduction to nowcast","text":"functionality new package, splalert","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/introduction.html","id":"results-reporting","dir":"Articles","previous_headings":"","what":"5. results reporting","title":"Introduction to nowcast","text":"Used convenient consistent reporting","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/introduction.html","id":"visualisation-tools","dir":"Articles","previous_headings":"","what":"6. visualisation tools","title":"Introduction to nowcast","text":"plots: epicurves, scatterplots etc","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/simulate_mortality_data.html","id":"simulate-mortality-event","dir":"Articles","previous_headings":"","what":"Simulate mortality event","title":"Simulating mortality data","text":"simulate mortality events (deaths) based real-life mortality pattern Norway. year roughly 43000 deaths Norway (0.8%) total, 11 counties. seasonal variations well: winter seasons deaths seasons. simulate daily deaths county. Afterwards, convenient aggregate time (weekly, quarterly, yearly) national total.","code":""},{"path":[]},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/simulate_mortality_data.html","id":"simulate-directly-from-distribution","dir":"Articles","previous_headings":"Models","what":"Simulate directly from distribution","title":"Simulating mortality data","text":"two models choose : Poisson distribution normal distribution approximation (rounded integer, truncated 0) Negative binomial distribution also implemented, yet ready use.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/simulate_mortality_data.html","id":"simulate-from-model-to-include-seasonality","dir":"Articles","previous_headings":"Models","what":"Simulate from model to include seasonality","title":"Simulating mortality data","text":"(tbd)","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/simulate_mortality_data.html","id":"examples","dir":"Articles","previous_headings":"","what":"Examples","title":"Simulating mortality data","text":"use poisson model 25 daily expected events Use Gaussian model (approximation) mean 25 standard deviation 2: Count daily death events (possibility visualize)","code":"# specify time period start_date <- '2018-01-01' end_date <- '2019-12-31'  # use poisson model with 25 daily expected events death_events_poi <- simulate_daily_death_event(   start_date = start_date,    end_date = end_date,    model = 'poisson',    param_list = list(lambda = 25) )  death_events_poi #>           id       date #>     1:     1 2018-01-01 #>     2:     2 2018-01-01 #>     3:     3 2018-01-01 #>     4:     4 2018-01-01 #>     5:     5 2018-01-01 #>    ---                  #> 18043: 18043 2019-12-31 #> 18044: 18044 2019-12-31 #> 18045: 18045 2019-12-31 #> 18046: 18046 2019-12-31 #> 18047: 18047 2019-12-31 death_events_norm <- simulate_daily_death_event(   start_date = start_date,    end_date = end_date,    model = 'norm_approx',    param_list = list(mu = 25, sigma = 2) )  death_events_norm #>           id       date #>     1:     1 2018-01-01 #>     2:     2 2018-01-01 #>     3:     3 2018-01-01 #>     4:     4 2018-01-01 #>     5:     5 2018-01-01 #>    ---                  #> 18215: 18215 2019-12-31 #> 18216: 18216 2019-12-31 #> 18217: 18217 2019-12-31 #> 18218: 18218 2019-12-31 #> 18219: 18219 2019-12-31 death_count_poi <- death_events_poi[, list(n_event = .N), by = date] death_count_poi #>            date n_event #>   1: 2018-01-01      21 #>   2: 2018-01-02      31 #>   3: 2018-01-03      31 #>   4: 2018-01-04      27 #>   5: 2018-01-05      17 #>  ---                    #> 726: 2019-12-27      26 #> 727: 2019-12-28      26 #> 728: 2019-12-29      24 #> 729: 2019-12-30      20 #> 730: 2019-12-31      17 # death_count_norm <- death_events_norm[, list(n_event = .N), by = date]"},{"path":"https://docs.sykdomspulsen.no/nowcast/articles/simulate_mortality_data.html","id":"simulate-mortality-registration","dir":"Articles","previous_headings":"","what":"Simulate mortality registration","title":"Simulating mortality data","text":"Registration, reporting important aspect mortality data. Different reporting systems can different delays death event. example, deaths registered electronically shorter reporting delays (usually within days) paper-based reports. deaths require post-morten (autopsy) determine cause death, can therefore take longer.","code":"# use the simulated death event data from the poisson model death_register <- simulate_registration(death_data = death_events_poi)  print(death_register) #>           id       date delay_days   date_reg #>     1:     1 2018-01-01          7 2018-01-08 #>     2:     2 2018-01-01          9 2018-01-10 #>     3:     3 2018-01-01          9 2018-01-10 #>     4:     4 2018-01-01         11 2018-01-12 #>     5:     5 2018-01-01         15 2018-01-16 #>    ---                                        #> 18043: 18043 2019-12-31          9 2020-01-09 #> 18044: 18044 2019-12-31         12 2020-01-12 #> 18045: 18045 2019-12-31          8 2020-01-08 #> 18046: 18046 2019-12-31         13 2020-01-13 #> 18047: 18047 2019-12-31          4 2020-01-04  hist(death_register$delay_days) # different parameters  death_register2 <- simulate_registration(death_data = death_events_poi, r = 10, p = 0.9)  hist(death_register2$delay_days)"},{"path":"https://docs.sykdomspulsen.no/nowcast/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"package proudly brought : Chi Zhang. Author, maintainer. Richard Aubrey White. Author. Aurora Christine Hofman. Author. . Copyright holder. See changelog contributors. 🙏","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Zhang C, White RA, Hofman AC (2022). nowcast: Real-time surveillance -cause mortality. https://docs.sykdomspulsen./nowcast, https://github.com/sykdomspulsen-org/nowcast.","code":"@Manual{,   title = {nowcast: Real-time surveillance on all-cause mortality},   author = {Chi Zhang and Richard Aubrey White and Aurora Christine Hofman},   year = {2022},   note = {https://docs.sykdomspulsen.no/nowcast, https://github.com/sykdomspulsen-org/nowcast}, }"},{"path":[]},{"path":"https://docs.sykdomspulsen.no/nowcast/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Real-time surveillance on all-cause mortality","text":"nowcast helps predict present. Read introduction vignette run help(package=\"nowcast\").","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/index.html","id":"splverse","dir":"","previous_headings":"","what":"splverse","title":"Real-time surveillance on all-cause mortality","text":"splverse set R packages developed help solve problems frequently occur performing infectious disease surveillance. want install dev versions (access packages haven’t released CRAN), run usethis::edit_r_profile() edit .Rprofile. write : Save file restart R. can now install splverse packages drat repository.","code":"options(   repos = structure(c(     SPLVERSE  = \"https://docs.sykdomspulsen.no/drat/\",     CRAN      = \"https://cran.rstudio.com\"   )) ) install.packages(\"nowcast\")"},{"path":"https://docs.sykdomspulsen.no/nowcast/license.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 Folkehelseinstituttet Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/count_weekly_reporting.html","id":null,"dir":"Reference","previous_headings":"","what":"DOE/DOR data aggregation — count_weekly_reporting","title":"DOE/DOR data aggregation — count_weekly_reporting","text":"Aggregates daily mortality reporting data weekly basis. details see help vignette:","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/count_weekly_reporting.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DOE/DOR data aggregation — count_weekly_reporting","text":"","code":"count_weekly_reporting(   data,   aggregation_date,   max_week_delay,   keep_weekly_prob = F )"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/count_weekly_reporting.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DOE/DOR data aggregation — count_weekly_reporting","text":"data Raw data containing doe (Date event), dor (Date registration reporting) location_code. columns must exact names. aggregation_date Date aggregation max_week_delay Maximum weeks delay taken account. Must greater 2. keep_weekly_prob Binary. True, final aggregated data weekly reporting percentile.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/count_weekly_reporting.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"DOE/DOR data aggregation — count_weekly_reporting","text":"Aggregated weekly data number events happened week reporting delay distribution","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/count_weekly_reporting.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"DOE/DOR data aggregation — count_weekly_reporting","text":"vignette(\"intro\", package=\"nowcast\")","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/count_weekly_reporting.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"DOE/DOR data aggregation — count_weekly_reporting","text":"","code":"data <- nowcast::data_fake_nowcasting_raw aggregation_date <- as.Date(\"2020-01-01\") max_week_delay <- 4  weekly_counts <- count_weekly_reporting(data, aggregation_date, max_week_delay)  weekly_counts_p <- count_weekly_reporting(data, aggregation_date, max_week_delay, keep_weekly_prob = TRUE)"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/d_fake_weekly_doe_dor_aggregated.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregate weekly data for events and delay distribution, expressed by weekly cumulatives. — d_fake_weekly_doe_dor_aggregated","title":"Aggregate weekly data for events and delay distribution, expressed by weekly cumulatives. — d_fake_weekly_doe_dor_aggregated","text":"Aggregate weekly data events delay distribution, expressed weekly cumulatives.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/d_fake_weekly_doe_dor_aggregated.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregate weekly data for events and delay distribution, expressed by weekly cumulatives. — d_fake_weekly_doe_dor_aggregated","text":"","code":"d_fake_weekly_doe_dor_aggregated"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/d_fake_weekly_doe_dor_aggregated.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Aggregate weekly data for events and delay distribution, expressed by weekly cumulatives. — d_fake_weekly_doe_dor_aggregated","text":"isoyearweek_event First date every week location_code Location code monday_doe Date Monday isoyearweek n_event Number deaths week, recorded aggregation date n_cum_lagi Number registered deaths within next weeks. 0 suggests current week p_cum_lagi Percentile registrations within next weeks. 0 suggests current week","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_county.html","id":null,"dir":"Reference","previous_headings":"","what":"Fake data for mortality in Norway — data_fake_county","title":"Fake data for mortality in Norway — data_fake_county","text":"Fake data mortality Norway","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_county.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fake data for mortality in Norway — data_fake_county","text":"","code":"data_fake_county"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_county.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Fake data for mortality in Norway — data_fake_county","text":"location_code Location code Norwegian municipalities week Week season Season used influenza like illnesses yrwk Year week x Number weeks start season pop Population size pr100_ili Per hundred ILI, percentage consultations diagnosed influenza like illnesses pr100_ili_lag_1 pr100_ili_lag_1 temperature temperature temperature_high temperature_high deaths deaths","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nation.html","id":null,"dir":"Reference","previous_headings":"","what":"Fake data for mortality in Norway nationally — data_fake_nation","title":"Fake data for mortality in Norway nationally — data_fake_nation","text":"Fake data mortality Norway nationally","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fake data for mortality in Norway nationally — data_fake_nation","text":"","code":"data_fake_nation"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nation.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Fake data for mortality in Norway nationally — data_fake_nation","text":"location_code Location code week Week season Season used influenza like illnesses yrwk Year week x Number weeks start season pop Population size pr100_ili Per hundred ILI, percentage consultations diagnosed influenza like illnesses pr100_ili_lag_1 pr100_ili_lag_1 temperature temperature temperature_high temperature_high deaths deaths","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nowcasting_aggregated.html","id":null,"dir":"Reference","previous_headings":"","what":"Cleaned fake data for mortality registration — data_fake_nowcasting_aggregated","title":"Cleaned fake data for mortality registration — data_fake_nowcasting_aggregated","text":"Cleaned fake data mortality registration","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nowcasting_aggregated.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cleaned fake data for mortality registration — data_fake_nowcasting_aggregated","text":"","code":"data_fake_nowcasting_aggregated"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nowcasting_aggregated.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Cleaned fake data for mortality registration — data_fake_nowcasting_aggregated","text":"cut_doe First date every week n_death Number true deaths week n0_0 Number registrations within current week n0_1 Number registrations within current previous week p0_1 Percentile registrations within current previous week n0_2 Number registrations within 2 last weeks current week p0_2 Percentile registrations within current prvious 2 weeks n0_3 Number registrations within 3 last weeks current week p0_3 Percentile registrations within current prvious 3 weeks n0_4 Number registrations within 4 weeks current week p0_4 Percentile registrations within current prvious 4 weeks n0_5 Number registrations within 5 weeks current week p0_5 Percentile registrations within current prvious 5 weeks n0_6 Number registrations within 6 weeks current week p0_6 Percentile registrations within current prvious 6 weeks n0_7 Number registrations within 7 weeks current week p0_7 Percentile registrations within current prvious 7 weeks n0_8 Number registrations within 8 weeks current week p0_8 Percentile registrations within current prvious 8 weeks n0_9 Number registrations within 9 weeks current week p0_9 Percentile registrations within current prvious 9 weeks n0_10 Number registrations within 10 weeks current week p0_10 Percentile registrations within current prvious 10 weeks n0_11 Number registrations within 11 weeks current week p0_11 Percentile registrations within current prvious 11 weeks n0_12 Number registrations within 12 weeks current week p0_12 Percentile registrations within current prvious 12 weeks n0_13 Number registrations within 13 weeks current week p0_13 Percentile registrations within current prvious 13 weeks n0_14 Number registrations within 14 weeks current week p0_14 Percentile registrations within current prvious 14 weeks n0_15 Number registrations within 15 weeks current week p0_15 Percentile registrations within current prvious 15 weeks","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nowcasting_county_aggregated.html","id":null,"dir":"Reference","previous_headings":"","what":"Cleaned fake data for mortality registration on a county basis — data_fake_nowcasting_county_aggregated","title":"Cleaned fake data for mortality registration on a county basis — data_fake_nowcasting_county_aggregated","text":"Cleaned fake data mortality registration county basis","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nowcasting_county_aggregated.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cleaned fake data for mortality registration on a county basis — data_fake_nowcasting_county_aggregated","text":"","code":"data_fake_nowcasting_county_aggregated"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nowcasting_county_aggregated.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Cleaned fake data for mortality registration on a county basis — data_fake_nowcasting_county_aggregated","text":"cut_doe First date every week location_code Location code n_death Number true deaths week n0_0 Number registrations within current week n0_1 Number registrations within current previous week p0_1 Percentile registrations within current previous week n0_2 Number registrations within 2 last weeks current week p0_2 Percentile registrations within current prvious 2 weeks n0_3 Number registrations within 3 last weeks current week p0_3 Percentile registrations within current prvious 3 weeks n0_4 Number registrations within 4 weeks current week p0_4 Percentile registrations within current prvious 4 weeks n0_5 Number registrations within 5 weeks current week p0_5 Percentile registrations within current prvious 5 weeks n0_6 Number registrations within 6 weeks current week p0_6 Percentile registrations within current prvious 6 weeks n0_7 Number registrations within 7 weeks current week p0_7 Percentile registrations within current prvious 7 weeks n0_8 Number registrations within 8 weeks current week p0_8 Percentile registrations within current prvious 8 weeks n0_9 Number registrations within 9 weeks current week p0_9 Percentile registrations within current prvious 9 weeks n0_10 Number registrations within 10 weeks current week p0_10 Percentile registrations within current prvious 10 weeks n0_11 Number registrations within 11 weeks current week p0_11 Percentile registrations within current prvious 11 weeks n0_12 Number registrations within 12 weeks current week p0_12 Percentile registrations within current prvious 12 weeks n0_13 Number registrations within 13 weeks current week p0_13 Percentile registrations within current prvious 13 weeks n0_14 Number registrations within 14 weeks current week p0_14 Percentile registrations within current prvious 14 weeks n0_15 Number registrations within 15 weeks current week p0_15 Percentile registrations within current prvious 15 weeks","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nowcasting_county_raw.html","id":null,"dir":"Reference","previous_headings":"","what":"Fake data for mortality registration (county level) — data_fake_nowcasting_county_raw","title":"Fake data for mortality registration (county level) — data_fake_nowcasting_county_raw","text":"Fake data mortality registration (county level)","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nowcasting_county_raw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fake data for mortality registration (county level) — data_fake_nowcasting_county_raw","text":"","code":"data_fake_nowcasting_county_raw"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nowcasting_county_raw.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Fake data for mortality registration (county level) — data_fake_nowcasting_county_raw","text":"doe Date og event dor Date registration location_code Location code","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nowcasting_raw.html","id":null,"dir":"Reference","previous_headings":"","what":"Fake data for mortality registration — data_fake_nowcasting_raw","title":"Fake data for mortality registration — data_fake_nowcasting_raw","text":"fake data mortality registration generated combining daily death counts days registration delay.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nowcasting_raw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fake data for mortality registration — data_fake_nowcasting_raw","text":"","code":"data_fake_nowcasting_raw"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nowcasting_raw.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Fake data for mortality registration — data_fake_nowcasting_raw","text":"doe Date og event dor Date registration","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/data_fake_nowcasting_raw.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fake data for mortality registration — data_fake_nowcasting_raw","text":"expected death counts per day 115 standard deviation 10. expected registration delay set 7 days.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/evaluate_aggregate_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate aggregate data — evaluate_aggregate_data","title":"Evaluate aggregate data — evaluate_aggregate_data","text":"Tries impute missing values performing smart assignment columns missing data. E.g. location_code='norge' know granularity_geo='nation'.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/evaluate_aggregate_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate aggregate data — evaluate_aggregate_data","text":"","code":"evaluate_aggregate_data(x, ...)"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/evaluate_aggregate_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate aggregate data — evaluate_aggregate_data","text":"x object type nowcast_aggregate_data_v1 created nowcast_aggregate ... used.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/evaluate_aggregate_data.html","id":"nowcast-aggregate-data-v-","dir":"Reference","previous_headings":"","what":"nowcast_aggregate_data_v1","title":"Evaluate aggregate data — evaluate_aggregate_data","text":"**columns bold** used impute listed columns. **location_code**: - granularity_geo - country_iso3 **isoyear** (`granularity_time==\"isoyear\"`): - isoweek - isoyearweek - season - seasonweek - calyear - calmonth - calyearmonth - date **isoyearweek** (`granularity_time==\"isoweek\"`): - isoyear - isoweek - season - seasonweek - calyear - calmonth - calyearmonth - date **date** (`granularity_time==\"day\"`): - isoyear - isoweek - isoyearweek - season - seasonweek - calyear - calmonth - calyearmonth regards time columns, `granularity_time` takes precedence everything. `granularity_time` missing, try impute `granularity_time` seeing one time column non-missing data. Due multitude time columns, `granularity_time` extremely important column always kept valid values.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/nowcast_aggregate.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregation of data for nowcasting — nowcast_aggregate","title":"Aggregation of data for nowcasting — nowcast_aggregate","text":"Aggregates mortality data weekly basis. percentiles number deaths obtained every week n_week also given. details see help vignette:","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/nowcast_aggregate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregation of data for nowcasting — nowcast_aggregate","text":"","code":"nowcast_aggregate(data, aggregation_date, n_week, pop_data = NULL)"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/nowcast_aggregate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregation of data for nowcasting — nowcast_aggregate","text":"data Dataset containing doe (Date event), dor (Date registation) location_code. columns must exact names. aggregation_date Date aggregation n_week Number weeks calculate percentage total registraations. Must larger og equal 2 amd smaller total number weeks dataset. pop_data Population data, must contain column called pop population data column year possibly week.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/nowcast_aggregate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregation of data for nowcasting — nowcast_aggregate","text":"Aggregated dataset percentiles registered events within last 52 weeks","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/nowcast_aggregate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Aggregation of data for nowcasting — nowcast_aggregate","text":"vignette(\"intro\", package=\"nowcast\")","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/nowcast_aggregate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Aggregation of data for nowcasting — nowcast_aggregate","text":"","code":"data <- nowcast::data_fake_nowcasting_raw data[doe < as.Date(\"2019-01-01\")] #>               doe        dor location_code #>     1: 2018-01-01 2018-01-10         norge #>     2: 2018-01-01 2018-01-07         norge #>     3: 2018-01-01 2018-01-05         norge #>     4: 2018-01-01 2018-01-07         norge #>     5: 2018-01-01 2018-01-05         norge #>    ---                                     #> 42115: 2018-12-31 2019-01-08         norge #> 42116: 2018-12-31 2019-01-11         norge #> 42117: 2018-12-31 2019-01-06         norge #> 42118: 2018-12-31 2019-01-04         norge #> 42119: 2018-12-31 2019-01-05         norge aggregation_date <- as.Date(\"2020-01-01\") n_week <- 6  data_aggregated <- nowcast_aggregate(data, aggregation_date, n_week) #> 1 done  #> 2 done  #> 3 done  #> 4 done  #> 5 done  #> 6 done"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_daily_death_event.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate daily death event — simulate_daily_death_event","title":"Simulate daily death event — simulate_daily_death_event","text":"Simulate death event daily basis given time period,   according user-specified distribution parameters. function aims simulate deaths event took place,   registered. data point contains ID date (date event). simulated data typically used aggregation different time granularities   weekly quarterly, modelling tasks.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_daily_death_event.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate daily death event — simulate_daily_death_event","text":"","code":"simulate_daily_death_event(start_date, end_date, model, param_list)"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_daily_death_event.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate daily death event — simulate_daily_death_event","text":"start_date Starting date simulation period. Date format 'yyyy-mm-dd'. end_date Ending date simulation period. model Model simulate number death event day .   Two models included: Poisson model Gaussian approximation model.   See details. Poisson model, model = 'poisson'. Gaussian approximation model, model = 'norm_approx'. param_list List parameters control simulation. Poisson model, param_list = list(lambda = lambda). Gaussian model, param_list = list(mu = mu, sigma = sigma).","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_daily_death_event.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate daily death event — simulate_daily_death_event","text":"data.table containing id Pseudo ID death events. date Date death event took place.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_daily_death_event.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate daily death event — simulate_daily_death_event","text":"function simulates daily death event arbitrary location time period.   Given starting ending date, first generates number events   day, based probability distribution generating function. Generally, user needs specify expected number daily event (  standard deviation, appropriate). Poisson model, parameter \\(\\lambda\\). Gaussian model (approximation), parameters \\(\\mu\\) \\(\\sigma\\).   Note generated numbers rounded nearest integer   truncated zero.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_daily_death_event.html","id":"future-implementations","dir":"Reference","previous_headings":"","what":"Future implementations","title":"Simulate daily death event — simulate_daily_death_event","text":"simulating daily death event directly distributions, plan include   negative binomial model extension Poisson model. also plan include simulation seasonality trend.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_daily_death_event.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate daily death event — simulate_daily_death_event","text":"","code":"start_date <- '2018-01-01' end_date <- '2019-12-31'  # poisson model with mean daily death 25 death_event  <- simulate_daily_death_event(   start_date = start_date,   end_date = end_date,   model = 'poisson',   param_list = list(lambda = 25))  # Gaussian model (approximation) with mean daily death 25, standard deviation 2 death_event <- simulate_daily_death_event(   start_date = start_date,   end_date = end_date,   model = 'norm_approx',   param_list = list(mu = 25, sigma = 2))"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_registration.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate registration date for death event — simulate_registration","title":"Simulate registration date for death event — simulate_registration","text":"Simulate registration date daily death event, prespecified reporting   delay pattern. now reporting delay follows negative binomial distribution.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_registration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate registration date for death event — simulate_registration","text":"","code":"simulate_registration(death_data, r = NULL, p = NULL)"},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_registration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate registration date for death event — simulate_registration","text":"death_data simulated data object simulate_daily_death_event(). r, p Parameters negative binomial distribution. Used jointly control   mean variance registration delay terms days. See detail. default, r = 10, p = 0.5.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_registration.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate registration date for death event — simulate_registration","text":"data.table containing id Pseudo ID death events. date Date death event took place (DOE). delay_days Delay days. date_reg Date registration (DOR).","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_registration.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate registration date for death event — simulate_registration","text":"input data contain daily individual level death event date event.   number days registration (reporting) delay simulated based   negative binomial distribution parameters (r, p). choice made investigating delay pattern real data,   often right skewed long tail. NB model preferable compared   Poisson model flexibility capturing -dispersion. parametrisation consistent stats::rnbinom(n, size = r, prob = p). expected days delay r(1-p)/p. variance r(1-p)/p^2. Plausible values r = 10 0.5 <= p <= 0.9, common   observe average delay 1 10 days. However users adjust   parameters examine different delay patterns.","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_registration.html","id":"future-implementations","dir":"Reference","previous_headings":"","what":"Future implementations","title":"Simulate registration date for death event — simulate_registration","text":"possible include heavy-tailed distributions. might realistic adjust delay varying temporal effect (e.g. weekend).","code":""},{"path":"https://docs.sykdomspulsen.no/nowcast/reference/simulate_registration.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate registration date for death event — simulate_registration","text":"","code":"start_date <- '2018-01-01' end_date <- '2019-12-31'  # simulate death data using the poisson model, with mean daily death 25 death_event <- simulate_daily_death_event(   start_date = start_date,   end_date = end_date,   model = 'poisson',   param_list = list(lambda = 25))  # simulate delay, with expected delay of 10 days (default) death_event_register <- simulate_registration(death_data = death_event)  # different parameters death_event_register <- simulate_registration(death_data = death_event, r = 10, p = 0.7)"},{"path":"https://docs.sykdomspulsen.no/nowcast/news/index.html","id":"nowcast-2020217","dir":"Changelog","previous_headings":"","what":"nowcast 2020.2.17","title":"nowcast 2020.2.17","text":"Package created","code":""}]
